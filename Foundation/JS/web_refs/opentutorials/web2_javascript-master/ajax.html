<!DOCTYPE html>
<html>
  <head>
    <title>WEB1 - HTML</title>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="colors.js"></script>
    <style>
      body {
        height: 1500px;
      }
    </style>
  </head>
  <body>
    <h1><a href="index.html">WEB</a></h1>
    <input
      id="night_day"
      type="button"
      value="night"
      onclick="
    nightDayHandler(this);
  "
    />
    <ol class="nav">
      <li><a href="#!HTML">HTML</a></li>
      <li><a href="#!CSS">CSSa</a></li>
      <li><a href="#!JavaScript">JavaScript</a></li>
    </ol>
    <div id="main"></div>
    <script>
      {
        // ajax 구현
        const ol = document.querySelector(".nav");
        const div = document.querySelector("#main");
        // 최초 로드 시 HTML 내용 보여주기
        fetch("HTML").then((response) => {
          response.text().then((text) => {
            div.innerHTML = text;
          });
        });

        // ol에 이벤트 리스너를 추가해 자식인 li 요소 모두에 이벤트 위임
        // ol.addEventListener("click", (e) => {
        //   console.log(e.target.innerText);
        //   fetch(e.target.innerText).then((response) => {
        //     response.text().then((text) => {
        //       div.innerHTML = text;
        //     });
        //   });
        // });

        // HTML에 표시된 innerText를 내가 원하는 파일 이름으로 바꿔서 보여주기
        ol.addEventListener("click", (e) => {
          console.log(e.target.innerText);
          if (e.target.innerText == "CSSa") {
            var fetchName = "CSS";
          } else if (e.target.innerText == "HTML") {
            var fetchName = "HTML";
          } else if (e.target.innerText == "JavaScript") {
            var fetchName = "JavaScript";
          }
          fetch(fetchName).then((response) => {
            response.text().then((text) => {
              div.innerHTML = text;
            });
          });
        });
      }
    </script>
  </body>
</html>
