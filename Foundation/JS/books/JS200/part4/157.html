<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iframe 예제1</title>
  </head>
  <body>
    <h1>iframe 바깥 문서</h1>
    <iframe
      src="./157-1.html"
      frameborder="0"
      id="iframe1"
      width="100%"
      height="500px"
    ></iframe>
    <script>
      const iframe1 = document.getElementById("iframe1");
      iframe1.addEventListener("load", (e) => {
        const iframeDocument = iframe1.contentDocument;
        console.log(iframeDocument);
        iframeDocument.body.style.backgroundColor = "skyblue";

        const newEl = document.createElement("div");
        newEl.innerHTML = "<h1>iframe 안쪽 문서</h1>";
        newEl.style.color = "white";
        iframeDocument.body.appendChild(newEl);

        setTimeout(() => {
          const iframeWindow = iframe1.contentWindow;
          iframeWindow.location = "https://google-analytics.com";
        }, 3000);
      });
    </script>
  </body>
</html>
